<!doctype html>
<html lang="pt-BR">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Clima ‚Äî Responsivo (Open-Meteo)</title>
<style>
:root {
  --bg:#0f1724; --card:#0b1220; --muted:#9aa4b2; --accent:#2bb7ff;
  font-family: Inter, system-ui, sans-serif;
  color:#e6eef8;
}
*{box-sizing:border-box;margin:0;padding:0}
body{
  background:linear-gradient(180deg,#051023 0%,#08192a 100%);
  min-height:100vh;
  padding:16px;
  display:flex;
  justify-content:center;
}
.container{
  width:100%; max-width:1100px;
  display:flex; flex-direction:column; gap:16px;
}

/* HEADER */
.header{
  display:flex; flex-wrap:wrap; gap:12px; align-items:center;
  justify-content:space-between;
  background:rgba(255,255,255,0.03);
  border:1px solid rgba(255,255,255,0.04);
  border-radius:14px; padding:14px 18px;
}
.brand{display:flex;gap:10px;align-items:center;flex:1;min-width:200px}
.logo{
  width:44px;height:44px;border-radius:10px;
  background:linear-gradient(135deg,var(--accent),#6ee7b7);
  color:#022233;font-weight:700;font-size:18px;
  display:flex;align-items:center;justify-content:center;
}
.title{font-size:17px;font-weight:700}
.subtitle{font-size:12px;color:var(--muted)}
.controls{display:flex;flex-wrap:wrap;gap:8px;justify-content:flex-end;flex:1}
.search{
  display:flex;align-items:center;gap:8px;
  background:rgba(255,255,255,0.05);
  border:1px solid rgba(255,255,255,0.04);
  border-radius:10px;padding:6px 10px;
  flex:1;min-width:180px;max-width:400px;
}
.search input{
  background:none;border:0;outline:0;color:#fff;width:100%;font-size:14px;
}
.btn{
  background:rgba(255,255,255,0.04);
  border:1px solid rgba(255,255,255,0.06);
  border-radius:10px;padding:8px 10px;font-size:14px;
  color:var(--muted);cursor:pointer;flex-shrink:0;
}
.btn.primary{background:linear-gradient(90deg,var(--accent),#6ee7b7);color:#012;border:0}

/* MAIN LAYOUT */
.main{
  display:grid; grid-template-columns:1fr 320px; gap:16px;
}
.card{
  background:rgba(255,255,255,0.03);
  border:1px solid rgba(255,255,255,0.04);
  border-radius:14px; padding:18px;
}
.current{display:flex;flex-wrap:wrap;gap:16px;align-items:center}
.icon-wrap{
  width:100px;height:100px;display:flex;align-items:center;justify-content:center;
  background:rgba(255,255,255,0.05);border-radius:12px;font-size:40px;
}
.temp{font-size:40px;font-weight:700}
.loc{font-size:14px;color:var(--muted)}
.small{font-size:13px;color:var(--muted)}
.row{display:flex;flex-wrap:wrap;gap:10px;margin-top:10px}
.kv{
  background:rgba(255,255,255,0.04);padding:8px 10px;border-radius:10px;
  min-width:100px;text-align:center
}
.forecast{
  display:grid;grid-template-columns:repeat(auto-fit,minmax(90px,1fr));
  gap:10px;margin-top:14px;
}
.day{text-align:center;padding:8px;border-radius:10px;background:rgba(255,255,255,0.03)}
.hourly-scroll{display:flex;gap:10px;overflow:auto;padding:10px 2px}
.hour{
  min-width:80px;padding:8px;border-radius:10px;background:rgba(255,255,255,0.03);text-align:center
}
.footer{text-align:center;color:var(--muted);font-size:13px;padding:6px}

/* MOBILE */
@media (max-width:900px){
  .main{grid-template-columns:1fr}
}
@media (max-width:600px){
  body{padding:10px}
  .header{flex-direction:column;align-items:stretch;text-align:center}
  .brand{justify-content:center}
  .controls{justify-content:center}
  .search{width:100%}
  .icon-wrap{width:80px;height:80px;font-size:32px}
  .temp{font-size:32px}
  .kv{flex:1;min-width:80px}
}
</style>
</head>
<body>
<div class="container">
  <header class="header">
    <div class="brand">
      <div class="logo">CL</div>
      <div><div class="title">Clima Profissional</div><div class="subtitle">Open-Meteo ‚Ä¢ Nominatim</div></div>
    </div>
    <div class="controls">
      <div class="search">
        <input id="q" placeholder="Cidade ou CEP">
        <button id="searchBtn" class="btn">üîç</button>
      </div>
      <button id="gpsBtn" class="btn">üìç</button>
      <button id="unitsBtn" class="btn">¬∞C/¬∞F</button>
    </div>
  </header>

  <main class="main">
    <section class="card">
      <div class="current">
        <div class="icon-wrap" id="weatherIcon">‚òÄÔ∏è</div>
        <div>
          <div class="temp" id="temp">--¬∞C</div>
          <div class="loc" id="place">Carregando...</div>
          <div class="small" id="conds">--</div>
          <div class="row">
            <div class="kv"><div class="small">Vento</div><div id="wind">--</div></div>
            <div class="kv"><div class="small">Umidade</div><div id="hum">--</div></div>
            <div class="kv"><div class="small">Chuva</div><div id="prec">--</div></div>
            <div class="kv"><div class="small">Press√£o</div><div id="press">--</div></div>
          </div>
        </div>
      </div>
      <div style="margin-top:16px">
        <div class="small">Pr√≥ximos dias</div>
        <div id="forecast" class="forecast"></div>
      </div>
    </section>

    <aside class="card">
      <div class="small">Pr√≥ximas 24h</div>
      <div id="hourly" class="hourly-scroll"></div>
    </aside>
  </main>

  <footer class="footer">Open-Meteo ‚Ä¢ Nominatim ‚Ä¢ Sem chave de API</footer>
</div>

<script>
const OPEN='https://api.open-meteo.com/v1/forecast';
const NOMI='https://nominatim.openstreetmap.org/';
const el=id=>document.getElementById(id);
let c=true;
const map={0:['C√©u limpo','‚òÄÔ∏è'],1:['Ensolarado','üå§Ô∏è'],2:['Parcial','‚õÖ'],3:['Nublado','‚òÅÔ∏è'],45:['Neblina','üå´Ô∏è'],51:['Chuvisco','üå¶Ô∏è'],61:['Chuva','üåßÔ∏è'],80:['Pancadas','üå¶Ô∏è'],95:['Trovoada','‚õàÔ∏è']};
const fmtT=t=>c?Math.round(t)+'¬∞C':Math.round(t*9/5+32)+'¬∞F';
function render(p,w){const[d,i]=map[w.weathercode]||['--','‚ùî'];el('weatherIcon').textContent=i;el('temp').textContent=fmtT(w.temperature);el('place').textContent=p;el('conds').textContent=d;}
function daily(d){const ctn=el('forecast');ctn.innerHTML='';if(!d)return;for(let i=0;i<d.time.length;i++){const [desc,ico]=map[d.weathercode[i]]||['--','‚ùî'];const div=document.createElement('div');div.className='day';div.innerHTML=`<div>${new Date(d.time[i]).toLocaleDateString('pt-BR',{weekday:'short'})}</div><div style="font-size:22px">${ico}</div><div>${fmtT(d.temperature_2m_max[i])}/${fmtT(d.temperature_2m_min[i])}</div>`;ctn.append(div);}}
function hourly(h){const ctn=el('hourly');ctn.innerHTML='';if(!h)return;for(let i=0;i<24&&i<h.time.length;i++){const [desc,ico]=map[h.weathercode[i]]||['',''];const hr=new Date(h.time[i]).toLocaleTimeString('pt-BR',{hour:'2-digit'});ctn.innerHTML+=`<div class='hour'><div>${hr}</div><div>${ico}</div><div>${fmtT(h.temperature_2m[i])}</div></div>`;}}
async function fetchData(lat,lon,p){const u=`${OPEN}?latitude=${lat}&longitude=${lon}&current_weather=true&daily=temperature_2m_max,temperature_2m_min,weathercode&hourly=temperature_2m,weathercode&timezone=auto`;const r=await fetch(u);const j=await r.json();render(p,j.current_weather);daily(j.daily);hourly(j.hourly);}
async function searchCity(q){const r=await fetch(`${NOMI}search?format=json&q=${encodeURIComponent(q)}&limit=1`);const j=await r.json();if(!j.length)return;fetchData(j[0].lat,j[0].lon,j[0].display_name);}
el('searchBtn').onclick=()=>{const q=el('q').value.trim();if(q)searchCity(q)};
el('gpsBtn').onclick=()=>{navigator.geolocation.getCurrentPosition(p=>fetchData(p.coords.latitude,p.coords.longitude,'Minha localiza√ß√£o'))};
el('unitsBtn').onclick=()=>{c=!c};
fetchData(-23.55,-46.63,'S√£o Paulo, Brasil');
</script>
</body>
</html>
